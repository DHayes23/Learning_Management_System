{% extends 'base.html' %}

{% block content %}
<div class="dashboard-content-area">
    <h1 class="profile-heading">Welcome to your Dashboard, {{ user.username }}</h1>
    <div class="dashboard-container">

        <div class="dashboard-area-1">
            <div class="dashboard-cards">
                <div class="dashboard-card">
                    {{ completed_paths_count }}
                    <p class="card-text-above">
                        Path{% if completed_paths_count != 1 %}s{% endif %} Completed
                    </p>
                </div>
                <div class="dashboard-card">
                    <p class="card-text-above">
                        Module{% if completed_modules_count != 1 %}s{% endif %} Completed
                    </p>
                    {{ completed_modules_count }}
                </div>
                <div class="dashboard-card">
                    {{ completed_lessons_count }}
                    <p class="card-text-above">
                        Lesson{% if completed_lessons_count != 1 %}s{% endif %} Completed
                    </p>
                </div>
            </div>
        </div>

        <div class="dashboard-area-2">
            <p></p>
        </div>

        <div class="dashboard-area-3">
            <canvas id="completionChart" width="400" height="400"></canvas>
        </div>

        <div class="dashboard-area-4">
            <p></p>
        </div>

    </div>
</div>
{% endblock %}

{% block postloadjs %}
{{ block.super }}
<script>
    renderCompletionChart(
        {{ completed_paths_count }},
        {{ remaining_paths_count }},
        {{ completed_modules_count }},
        {{ remaining_modules_count }},
        {{ completed_lessons_count }},
        {{ remaining_lessons_count }}
    );
</script>
{% endblock %}
